---
title: Node Metrics
slug: /v3/tutorials/node-metrics
version: 3.0 
section: tutorials
category: node metrics
keywords: telemetry, metrics
difficulty: 1
duration: < 1 Hour
---

## Introduction

Recent versions of Substrate expose metrics, such as how many peers your node is
connected to, how much memory your node is using, etc. To visualize these
metrics, you can use tools like [Prometheus](https://prometheus.io/) and
[Grafana](https://grafana.com/).

<Message
  type={`gray`}
  title={`Note`}
  text={`In the past Substrate exposed a Grafana JSON endpoint directly. This has been replaced with a Prometheus metric endpoint.`}
/>

A possible architecture could look like:

```
+-----------+                     +-------------+                                                              +---------+
| Substrate |                     | Prometheus  |                                                              | Grafana |
+-----------+                     +-------------+                                                              +---------+
      |               -----------------\ |                                                                          |
      |               | Every 1 minute |-|                                                                          |
      |               |----------------| |                                                                          |
      |                                  |                                                                          |
      |        GET current metric values |                                                                          |
      |<---------------------------------|                                                                          |
      |                                  |                                                                          |
      | `substrate_peers_count 5`        |                                                                          |
      |--------------------------------->|                                                                          |
      |                                  | --------------------------------------------------------------------\    |
      |                                  |-| Save metric value with corresponding time stamp in local database |    |
      |                                  | |-------------------------------------------------------------------|    |
      |                                  |                                         -------------------------------\ |
      |                                  |                                         | Every time user opens graphs |-|
      |                                  |                                         |------------------------------| |
      |                                  |                                                                          |
      |                                  |       GET values of metric `substrate_peers_count` from time-X to time-Y |
      |                                  |<-------------------------------------------------------------------------|
      |                                  |                                                                          |
      |                                  | `substrate_peers_count (1582023828, 5), (1582023847, 4) [...]`           |
      |                                  |------------------------------------------------------------------------->|
      |                                  |                                                                          |

```

<details>
 <summary>Reproduce diagram</summary>

Go to: https://textart.io/sequence

```
object Substrate Prometheus Grafana
note left of Prometheus: Every 1 minute
Prometheus->Substrate: GET current metric values
Substrate->Prometheus: `substrate_peers_count 5`
note right of Prometheus: Save metric value with corresponding time stamp in local database
note left of Grafana: Every time user opens graphs
Grafana->Prometheus: GET values of metric `substrate_peers_count` from time-X to time-Y
Prometheus->Grafana: `substrate_peers_count (1582023828, 5), (1582023847, 4) [...]`
```

</details>

## What you will be doing

<TutorialObjective
  data={{
    textLineOne:
      '1. Install Prometheus and Grafana',
    url: '/v3/tutorials/node-metrics/p1#install-prometheus-and-grafana',
  }}
/>
<TutorialObjective
  data={{
    textLineOne:
      '2. Configure Prometheus to scrape your Substrate node',
    url: '/v3/tutorials/node-metrics/p1#configure-prometheus-to-scrape-your-substrate-node',
  }}
/>
<TutorialObjective
  data={{
    textLineOne:
      '3. Visualize Prometheus Metrics with Grafana',
    url: '/v3/tutorials/node-metrics/p1#visualizing-prometheus-metrics-with-grafana',
  }}
/>

## Learning outcomes

- Learn how to do a time-series scrape for a Substrate node using Prometheus
- Learn how to use Grafana and Prometheus to visualize node metrics